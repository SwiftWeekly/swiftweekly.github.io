---
layout: post
title: ! 'Issue #102'
author: tapthaker
---

> TODO: intro comments

-<!--excerpt-->

### Starter tasks

- [SR-6852](https://bugs.swift.org/browse/SR-6852) Support `#if swift(<4.1)` *#compiler*
- [SR-6808](https://bugs.swift.org/browse/SR-6808) Visualizing Build Graph is not exposed from llbuild Build System *#llbuild*
- [SR-6787](https://bugs.swift.org/browse/SR-6787) Unexpected result when getting a String describing a type created inside a function *#bug* *#standard-library*

{% include task_remind.html %}

### Swift Unwrapped

[Swift Bi-Weekly Brief](https://spec.fm/podcasts/swift-unwrapped/108765)

### News and community

[Greg Heo](https://twitter.com/gregheo) wrote an amazing post about [Conditional conformance](https://swiftunboxed.com/lang/conditional-conformance/). In it, he thinks through conditional conformance in Swift, and works through the basics of its implementation.

[Xi Ge](https://github.com/nkcsgexi)'s talk about [Creating Refactoring Transformations for Swift](https://www.skilled.io/u/swiftsummit/creating-refactoring-transformations-for-swift) from the [Swift Summit 2017](https://www.swiftsummit.com/) is posted. He also talks about future of refactoring engine with [libSyntax](https://github.com/apple/swift/blob/master/lib/Syntax/README.md).

[Brandon Williams](http://www.fewbutripe.com/about/) and [Stephen Celis](http://www.stephencelis.com/) launched a new Swift video series called [Point-Free](https://www.pointfree.co/). Checkout their first episode, [Functions](https://www.pointfree.co/episodes/ep1-functions).
>Point-Free is a video series about functional programming and the Swift programming language. Each episode covers a topic that may seem complex and academic at first, but turns out to be quite simple. At the end of each episode we’ll ask “what’s the point?!”, so that we can bring the concepts back down to earth and show how these ideas can improve the quality of your code today.

Brandon's talk [Server-Side Swift from Scratch](https://www.skilled.io/u/swiftsummit/server-side-swift-from-scratch) also discusses some of the functional programming work they have done with Point-Free

[Peter Steinberger](https://twitter.com/steipete) wrote about [Binary Frameworks in Swift](https://pspdfkit.com/blog/2018/binary-frameworks-swift/)
>This article explores what ABI means and how it can be important for third-party frameworks.
> <br/>TL;WR: ABI stability won’t change much for you, and it’s not enough to ship binary Swift frameworks.

### Commits and pull requests

[Doug Gregor](https://github.com/DougGregor) has merged several pull requests:

- [merged](https://github.com/apple/swift/pull/14296) a pull request that mangles retroactive conformances as part of bound generic types.<br/>
>A "retroactive" protocol conformance is a conformance that is provided
by a module that is neither the module that defines the protocol nor
the module that defines the conforming type. It is possible for such
conformances to conflict at runtime, if defined in different modules
that were not both visible to the compiler at the same time.
<br/>When mangling a bound generic type, also mangle retroactive protocol
conformances that were needed to satisfy the generic requirements of
the generic type. This prevents name collisions between (e.g.) types
formed using retroactive conformances from different modules. The
impact on the size of the mangling is expected to be relatively small,
because most conformances are not retroactive.

- [merged]((https://github.com/apple/swift/pull/14327)) a pull request that dynamically checks generic constraints when forming type info (e.g., Any.Type) from a mangled name.<br/>
>Extend support for mapping a mangled name -> type metadata to include
support for checking protocol conformance requirements, using the
encoding of generic requirements that is now available within context
descriptors. For example, this allows
`_typeByMangledName(mangled-name-of-Set<Int>)` to construct proper type
metadata, filling in the Int: Hashable requirement as appropriate.

- [merged](https://github.com/apple/swift/pull/14368) a pull request that will allow querying of conditional conformances at runtime. This was the last major part of implementing [SE-0143](https://github.com/apple/swift-evolution/blob/master/proposals/0143-conditional-conformances.md) *Conditional conformances* which is now complete 🎉.
>Runtime query of conditional conformances is now implemented. Therefore, a dynamic cast such as value as? P, where the dynamic type of value conditional conforms to P, will succeed when the conditional requirements are met.

- He also [fixed](https://github.com/apple/swift/pull/14174) an [issue](https://bugs.swift.org/browse/SR-6841) in type checker where class constraints `(spelled T: AnyObject)` on generic types were not getting checked on generic arguments.

[Ben Cohen](https://github.com/airspeedswift) [merged](https://github.com/apple/swift/pull/13342) a pull request that has some more excellent uses of conditional conformances in the Swift standard library. Say goodbye to `(Closed)CountableRange`👋.

[Greg Titus](https://github.com/gregomni) [merged](https://github.com/apple/swift/pull/14227) a pull request that removes compiler terminology l-value. As mentioned by Slava Pestov in this [tweet](https://twitter.com/slava_pestov/status/957720067822706688)
> “Removing terminology” is almost always good. Compilers often use terminology that is internal to the implementation, not part of the language model, and can change.

[Morten Bek Ditlevsen](https://github.com/mortenbekditlevsen) created a pull request to add conditional conformance to Hashable for Optional, Dictionary and Array types.


### Accepted proposals

[SE-0196](https://github.com/apple/swift-evolution/blob/master/proposals/0196-diagnostic-directives.md): *Compiler Diagnostic Directives* has been accepted but with a minor revision.

>The only revision over the original proposal is to change the syntax to use #warning(<Message>) instead of #warning <Messsage>. This fits well with most of Swift’s existing compiler directives, and was strongly supported in the review discussion.
><br/><br/>The review discussion also covered a variety of possible extensions or variants to this proposal, including support for using #warning as an expression instead of a line directive and support for runtime issues. The Core Team decided that while these directions are interesting and worth exploring, they are complementary to the core functionality serviced by this proposal. Further, keeping #warning as a line directive allows it to be used in a wide variety of contexts, and serves a different need than using it as a placeholder expression.

The proposal was also implemented and [merged](https://github.com/apple/swift-evolution/blob/master/proposals/0196-diagnostic-directives.md) to master. Kudos to [Harlan Haskins](https://github.com/harlanhaskins).

[SE-0197](https://forums.swift.org/t/se-0197-add-in-place-remove-where/8872): *Adding in-place `remove(where:)` to the Standard Library* was accepted.
>The review of this proposal is now over. The core team has decided to accept the proposal with the revision that the method be named `removeAll(where:)`.
In this thread, we also discussed whether to add a `removeAll(_: Element)` method. While I think that’s a reasonable-sounding idea, I do think it can considered independently of SE-0197, since it wasn’t originally part of the pitch. If you’re interested in adding that method, I encourage you to start a new pitch thread for it.

### Returned proposals

> TODO

### Rejected proposals

> TODO

### Proposals in review

[SE-0195](https://github.com/apple/swift-evolution/blob/master/proposals/0195-dynamic-member-lookup.md): *Introduce User-defined “Dynamic Member Lookup” Types*is still under review. It's review was extended by another week.
>The proposal is accepted in principle, but specific details of the proposal need to be further discussed and ironed out. Specifically, there is the matter of using a marker protocol, which raises a bunch of technical questions.
><br/><br/>On the general principle of the proposal, the Core Team felt that:
><br/><br/>This proposal added valuable functionality to Swift
This proposal is not at odds at potentially adding any new dynamic affordances to Swift later that (say) tie into Swift’s runtime metadata, etc.
There are tooling affordances, such as syntax coloring, that can be used to distinguish methods call going through this member lookup mechanism — without adding additional syntactic weight that would be at odds of some of the core goals of this proposal.

[SE-0198](https://github.com/apple/swift-evolution/blob/master/proposals/0198-playground-quicklook-api-revamp.md): *Playground QuickLook API Revamp is in review.*
>The standard library currently includes API which allows a type to customize its
description in Xcode playgrounds and Swift Playgrounds. This API takes the
form of the `PlaygroundQuickLook` enum which enumerates types which are
supported for quick looks, and the `CustomPlaygroundQuickLookable` protocol
which allows a type to return a custom `PlaygroundQuickLook` value for an
instance.<br/><br/>This is brittle, and to avoid dependency inversions, many of the cases are typed
as taking `Any` instead of a more appropriate type. This proposal suggests that
we deprecate `PlaygroundQuickLook` and `CustomPlaygroundQuickLookable` in Swift
4.1 so they can be removed entirely in Swift 5, preventing them from being
included in the standard library's stable ABI. To maintain compatibility with
older playgrounds, the deprecated symbols will be present in a temporary
compatibility shim library which will be automatically imported in playground
contexts. (This will represent an intentional source break for projects,
packages, and other non-playground Swift code which use `PlaygroundQuickLook` or
`CustomPlaygroundQuickLookable` when they switch to the Swift 5.0 compiler, even
in the compatibility modes.)

### Swift Forums

> TODO

### Finally

> TODO: something funny/fun. tweet, link, etc.
